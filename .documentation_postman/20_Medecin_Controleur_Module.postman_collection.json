{
    "info": {
        "_postman_id": "medecin-controleur-module",
        "name": "ü©∫ M√©decin Contr√¥leur",
        "description": "Gestion des questions, validation des prestataires, garanties et cat√©gories de garanties",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Statistiques Compl√®tes",
            "request": {
                "method": "GET",
                "header": [
                    {
                        "key": "Authorization",
                        "value": "Bearer {{access_token}}",
                        "description": "Token JWT du m√©decin contr√¥leur"
                    },
                    {
                        "key": "Accept",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{base_url}}/v1/medecin-controleur/stats",
                    "host": ["{{base_url}}"],
                    "path": ["v1", "medecin-controleur", "stats"]
                },
                "description": "R√©cup√®re toutes les statistiques du m√©decin contr√¥leur en une seule requ√™te : questions, garanties, cat√©gories, demandes prestataires, factures."
            }
        },
        {
            "name": "Questions",
            "item": [
                {
                    "name": "Liste des Questions",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "description": "Token JWT du m√©decin contr√¥leur"
                            },
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/questions?destinataire=prestataire",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "questions"],
                            "query": [
                                {
                                    "key": "destinataire",
                                    "value": "prestataire",
                                    "description": "Filtrer par destinataire (prestataire, client, autre)"
                                }
                            ]
                        },
                        "description": "R√©cup√®re la liste de toutes les questions. Peut √™tre filtr√©e par destinataire."
                    }
                },
                {
                    "name": "D√©tails d'une Question",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "description": "Token JWT du m√©decin contr√¥leur"
                            },
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/questions/{{question_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "questions", "{{question_id}}"]
                        },
                        "description": "R√©cup√®re les d√©tails d'une question sp√©cifique par son ID."
                    }
                },
                {
                    "name": "Cr√©er Questions en Masse",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "description": "Token JWT du m√©decin contr√¥leur"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/questions",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "questions"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "[\n    {\n        \"libelle\": \"Quelle est votre sp√©cialit√© m√©dicale ?\",\n        \"type_de_donnee\": \"select\",\n        \"destinataire\": \"prestataire\",\n        \"est_obligatoire\": true,\n        \"est_active\": true,\n        \"options\": [\"M√©decine g√©n√©rale\", \"P√©diatrie\", \"Cardiologie\", \"Dermatologie\"]\n    },\n    {\n        \"libelle\": \"Nombre d'ann√©es d'exp√©rience\",\n        \"type_de_donnee\": \"number\",\n        \"destinataire\": \"prestataire\",\n        \"est_obligatoire\": true,\n        \"est_active\": true\n    },\n    {\n        \"libelle\": \"Disposez-vous d'un √©quipement de radiologie ?\",\n        \"type_de_donnee\": \"checkbox\",\n        \"destinataire\": \"prestataire\",\n        \"est_obligatoire\": false,\n        \"est_active\": true,\n        \"options\": [\"Oui\", \"Non\"]\n    }\n]",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Cr√©e plusieurs questions en une seule op√©ration. Optimis√© pour l'insertion en masse."
                    }
                },
                {
                    "name": "Modifier une Question",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "description": "Token JWT du m√©decin contr√¥leur"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/questions/{{question_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "questions", "{{question_id}}"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"libelle\": \"Quelle est votre sp√©cialit√© m√©dicale principale ?\",\n    \"type_de_donnee\": \"select\",\n    \"destinataire\": \"prestataire\",\n    \"est_obligatoire\": true,\n    \"est_active\": true,\n    \"options\": [\"M√©decine g√©n√©rale\", \"P√©diatrie\", \"Cardiologie\", \"Dermatologie\", \"Autre\"]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Modifie une question existante. Tous les champs sont optionnels."
                    }
                },
                {
                    "name": "Supprimer une Question",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "description": "Token JWT du m√©decin contr√¥leur"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/questions/{{question_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "questions", "{{question_id}}"]
                        },
                        "description": "Supprime d√©finitivement une question."
                    }
                },
                {
                    "name": "Supprimer Questions en Masse",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "description": "Token JWT du m√©decin contr√¥leur"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/questions/bulk-delete",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "questions", "bulk-delete"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"ids\": [1, 2, 3, 4, 5]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Supprime plusieurs questions en une seule op√©ration."
                    }
                },
                {
                    "name": "Statistiques des Questions",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "description": "Token JWT du m√©decin contr√¥leur"
                            },
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/questions/stats",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "questions", "stats"]
                        },
                        "description": "R√©cup√®re les statistiques des questions : total, actives, inactives, obligatoires, r√©partition par destinataire."
                    }
                }
            ]
        },
        {
            "name": "Garanties",
            "item": [
                {
                    "name": "Liste des Garanties",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/garanties",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "garanties"]
                        },
                        "description": "R√©cup√®re la liste de toutes les garanties."
                    }
                },
                {
                    "name": "Cr√©er une Garantie",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/garanties",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "garanties"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"libelle\": \"Consultation g√©n√©rale\",\n    \"description\": \"Consultation m√©dicale g√©n√©rale\",\n    \"montant_max\": 50000,\n    \"est_active\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Cr√©e une nouvelle garantie. Accessible aux m√©decins contr√¥leurs et techniciens."
                    }
                },
                {
                    "name": "Modifier une Garantie",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/garanties/{{garantie_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "garanties", "{{garantie_id}}"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"libelle\": \"Consultation g√©n√©rale modifi√©e\",\n    \"montant_max\": 60000\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Modifie une garantie existante."
                    }
                },
                {
                    "name": "Supprimer une Garantie",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/garanties/{{garantie_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "garanties", "{{garantie_id}}"]
                        },
                        "description": "Supprime une garantie."
                    }
                },
                {
                    "name": "Activer/D√©sactiver Garantie",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/garanties/{{garantie_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "garanties", "{{garantie_id}}"]
                        },
                        "description": "Active ou d√©sactive une garantie."
                    }
                }
            ]
        },
        {
            "name": "Cat√©gories de Garanties",
            "item": [
                {
                    "name": "Liste des Cat√©gories",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/categories-garanties",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "categories-garanties"]
                        },
                        "description": "R√©cup√®re la liste de toutes les cat√©gories de garanties avec leurs garanties."
                    }
                },
                {
                    "name": "Cr√©er une Cat√©gorie",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/categories-garanties",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "categories-garanties"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nom\": \"Soins dentaires\",\n    \"description\": \"Cat√©gorie pour tous les soins dentaires\",\n    \"garanties\": [1, 2, 3]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Cr√©e une nouvelle cat√©gorie de garanties avec des garanties associ√©es."
                    }
                },
                {
                    "name": "Modifier une Cat√©gorie",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/categories-garanties/{{categorie_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "categories-garanties", "{{categorie_id}}"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nom\": \"Soins dentaires complets\",\n    \"description\": \"Cat√©gorie mise √† jour\",\n    \"garanties\": [1, 2, 3, 4]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Modifie une cat√©gorie de garanties existante."
                    }
                },
                {
                    "name": "Supprimer une Cat√©gorie",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/categories-garanties/{{categorie_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "categories-garanties", "{{categorie_id}}"]
                        },
                        "description": "Supprime une cat√©gorie de garanties."
                    }
                },
                {
                    "name": "Activer/D√©sactiver Cat√©gorie",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/categories-garanties/{{categorie_id}}/garanties/{{garantie_id}}/toggle",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "categories-garanties", "{{categorie_id}}", "garanties", "{{garantie_id}}", "toggle"]
                        },
                        "description": "Active ou d√©sactive une garantie dans une cat√©gorie."
                    }
                }
            ]
        },
        {
            "name": "Demandes d'Adh√©sion Prestataires",
            "item": [
                {
                    "name": "Liste des Demandes Prestataires",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/demandes-adhesions?type_demandeur=prestataire",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "demandes-adhesions"],
                            "query": [
                                {
                                    "key": "type_demandeur",
                                    "value": "prestataire",
                                    "description": "Filtrer par type de demandeur"
                                }
                            ]
                        },
                        "description": "R√©cup√®re la liste des demandes d'adh√©sion des prestataires."
                    }
                },
                {
                    "name": "D√©tails Demande Prestataire",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/demandes-adhesions/{{demande_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "demandes-adhesions", "{{demande_id}}"]
                        },
                        "description": "R√©cup√®re les d√©tails d'une demande d'adh√©sion prestataire avec les r√©ponses aux questions."
                    }
                },
                {
                    "name": "Valider Prestataire",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/demandes-adhesions/{{demande_id}}/valider-prestataire",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "demandes-adhesions", "{{demande_id}}", "valider-prestataire"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"commentaire\": \"Prestataire valid√© apr√®s v√©rification des documents et qualifications\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Valide une demande d'adh√©sion de prestataire. Cr√©e le compte prestataire et envoie les identifiants."
                    }
                },
                {
                    "name": "Rejeter Demande",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/demandes-adhesions/{{demande_id}}/rejeter",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "demandes-adhesions", "{{demande_id}}", "rejeter"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"motif_rejet\": \"Documents incomplets ou non conformes\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Rejette une demande d'adh√©sion avec un motif."
                    }
                }
            ]
        },
        {
            "name": "Validation de Factures",
            "item": [
                {
                    "name": "Valider Facture par M√©decin",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/factures/{{facture_id}}/validate-medecin",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "factures", "{{facture_id}}", "validate-medecin"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"commentaire\": \"Facture conforme aux actes m√©dicaux d√©clar√©s\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Valide une facture apr√®s v√©rification m√©dicale. La facture doit d'abord √™tre valid√©e par un technicien."
                    }
                },
                {
                    "name": "Rejeter Facture par M√©decin",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/factures/{{facture_id}}/reject-medecin",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "factures", "{{facture_id}}", "reject-medecin"]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"motif_rejet\": \"Actes m√©dicaux non conformes ou non justifi√©s\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "description": "Rejette une facture avec un motif m√©dical."
                    }
                }
            ]
        },
        {
            "name": "Assur√©s",
            "item": [
                {
                    "name": "Liste des Assur√©s",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}"
                            },
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/v1/assures/stats",
                            "host": ["{{base_url}}"],
                            "path": ["v1", "assures", "stats"]
                        },
                        "description": "R√©cup√®re les statistiques des assur√©s accessibles au m√©decin contr√¥leur."
                    }
                }
            ]
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:8000/api",
            "description": "URL de base de l'API"
        },
        {
            "key": "access_token",
            "value": "your_jwt_token_here",
            "description": "Token JWT du m√©decin contr√¥leur connect√©"
        },
        {
            "key": "question_id",
            "value": "1",
            "description": "ID d'une question"
        },
        {
            "key": "garantie_id",
            "value": "1",
            "description": "ID d'une garantie"
        },
        {
            "key": "categorie_id",
            "value": "1",
            "description": "ID d'une cat√©gorie de garanties"
        },
        {
            "key": "demande_id",
            "value": "1",
            "description": "ID d'une demande d'adh√©sion"
        },
        {
            "key": "facture_id",
            "value": "1",
            "description": "ID d'une facture"
        }
    ]
}
