<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-01-01T00:00:00.000Z" agent="Claude" etag="" version="22.1.11" type="device">
  <diagram name="AMP Backend UML - Diagramme de Classe Complet" id="amp-backend-uml-complet">
    <mxGraphModel dx="2074" dy="1181" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="4681" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Les classes seront ajoutées ici -->
        
        <!-- User Class -->
        <mxCell id="user-class" value="User&#xa;&#xa;- id: bigint&#xa;- email: string&#xa;- contact: string&#xa;- password: string&#xa;- adresse: string&#xa;- photo: string&#xa;- est_actif: bool&#xa;- email_verifier_a: datetime&#xa;- mot_de_passe_a_changer: bool&#xa;- deleted_at: datetime&#xa;&#xa;+ getJWTIdentifier()&#xa;+ getJWTCustomClaims()&#xa;+ getFullNameAttribute()&#xa;+ getUserTypeAttribute()&#xa;+ genererMotDePasse()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="100" width="280" height="380" as="geometry" />
        </mxCell>
        
        <!-- Personnel Class -->
        <mxCell id="personnel-class" value="Personnel&#xa;&#xa;- id: bigint&#xa;- nom: string&#xa;- prenoms: string&#xa;- sexe: enum&#xa;- date_naissance: date&#xa;- code_parainage: string&#xa;- deleted_at: datetime&#xa;&#xa;+ getFullNameAttribute()&#xa;+ isGestionnaire()&#xa;+ isCommercial()&#xa;+ isTechnicien()&#xa;+ isMedecinControleur()&#xa;+ isComptable()&#xa;+ genererCodeParainage()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="100" width="280" height="360" as="geometry" />
        </mxCell>
        
        <!-- Entreprise Class -->
        <mxCell id="entreprise-class" value="Entreprise&#xa;&#xa;- id: bigint&#xa;- raison_sociale: string&#xa;- statut: enum&#xa;- deleted_at: datetime&#xa;&#xa;+ isActive()&#xa;+ isInactive()&#xa;+ generateAdhesionLink()&#xa;+ getNameAttribute()&#xa;+ getActiveEmployeesCountAttribute()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="100" width="280" height="280" as="geometry" />
        </mxCell>
        
        <!-- Assure Class -->
        <mxCell id="assure-class" value="Assure&#xa;&#xa;- id: bigint&#xa;- email: string&#xa;- nom: string&#xa;- prenoms: string&#xa;- date_naissance: date&#xa;- sexe: enum&#xa;- lien_parente: enum&#xa;- est_principal: bool&#xa;- profession: string&#xa;- contact: string&#xa;- photo: string&#xa;- deleted_at: datetime&#xa;&#xa;+ isPrincipal()&#xa;+ isBeneficiaire()&#xa;+ isActive()&#xa;+ isInactive()&#xa;+ isSuspended()&#xa;+ getFullNameAttribute()&#xa;+ getTypeAttribute()&#xa;+ getSourceAttribute()&#xa;+ hasContratActif()&#xa;+ getContratAssocie()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1300" y="100" width="280" height="460" as="geometry" />
        </mxCell>
        
        <!-- Prestataire Class -->
        <mxCell id="prestataire-class" value="Prestataire&#xa;&#xa;- id: bigint&#xa;- type_prestataire: enum&#xa;- raison_sociale: string&#xa;- documents_requis: array&#xa;- code_parrainage: string&#xa;- statut: enum&#xa;- deleted_at: datetime&#xa;&#xa;+ isPending()&#xa;+ isValidated()&#xa;+ isRejected()&#xa;+ isSuspended()&#xa;+ validate()&#xa;+ reject()&#xa;+ suspend()&#xa;+ getNameAttribute()&#xa;+ getTypeFrancaisAttribute()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1700" y="100" width="280" height="420" as="geometry" />
        </mxCell>
        
        <!-- DemandeAdhesion Class -->
        <mxCell id="demande-adhesion-class" value="DemandeAdhesion&#xa;&#xa;- id: bigint&#xa;- type_demandeur: enum&#xa;- statut: enum&#xa;- motif_rejet: text&#xa;- code_parainage: string&#xa;- valider_a: datetime&#xa;- deleted_at: datetime&#xa;&#xa;+ isPending()&#xa;+ isValidated()&#xa;+ isRejected()&#xa;+ validate()&#xa;+ reject()&#xa;+ getTypeDemandeurFrancaisAttribute()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="700" width="280" height="360" as="geometry" />
        </mxCell>
        
        <!-- Contrat Class -->
        <mxCell id="contrat-class" value="Contrat&#xa;&#xa;- id: bigint&#xa;- libelle: string&#xa;- prime_standard: decimal&#xa;- frais_gestion: decimal&#xa;- couverture_moyenne: decimal&#xa;- couverture: decimal&#xa;- categories_garanties_standard: array&#xa;- est_actif: bool&#xa;- deleted_at: datetime&#xa;&#xa;+ generateNumeroPolice()&#xa;+ isProposed()&#xa;+ isAccepted()&#xa;+ isRefused()&#xa;+ isActive()&#xa;+ isExpired()&#xa;+ isCancelled()&#xa;+ accept()&#xa;+ refuse()&#xa;+ activate()&#xa;+ getPrimeTotaleAttribute()&#xa;+ getCommissionAmountAttribute()&#xa;+ isValid()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="700" width="300" height="480" as="geometry" />
        </mxCell>
        
        <!-- Facture Class -->
        <mxCell id="facture-class" value="Facture&#xa;&#xa;- id: bigint&#xa;- numero_facture: string&#xa;- montant_reclame: decimal&#xa;- montant_a_rembourser: decimal&#xa;- diagnostic: text&#xa;- ticket_moderateur: decimal&#xa;- statut: enum&#xa;- motif_rejet: text&#xa;- est_valide_par_technicien: bool&#xa;- valide_par_technicien_a: datetime&#xa;- est_valide_par_medecin: bool&#xa;- valide_par_medecin_a: datetime&#xa;- est_autorise_par_comptable: bool&#xa;- autorise_par_comptable_a: datetime&#xa;- deleted_at: datetime&#xa;&#xa;+ isPending()&#xa;+ isValidatedByTechnicien()&#xa;+ isReimbursed()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="700" width="300" height="680" as="geometry" />
        </mxCell>
        
        <!-- Sinistre Class -->
        <mxCell id="sinistre-class" value="Sinistre&#xa;&#xa;- id: bigint&#xa;- description: text&#xa;- date_sinistre: date&#xa;- statut: enum&#xa;- deleted_at: datetime&#xa;&#xa;+ isInProgress()&#xa;+ isClosed()&#xa;+ updateStatus()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1300" y="700" width="280" height="300" as="geometry" />
        </mxCell>
        
        <!-- CategorieGarantie Class -->
        <mxCell id="categorie-garantie-class" value="CategorieGarantie&#xa;&#xa;- id: bigint&#xa;- libelle: string&#xa;- description: text&#xa;- deleted_at: datetime&#xa;&#xa;+ isActive()&#xa;+ getTotalCoverageAttribute()&#xa;+ getGaranties()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="1400" width="280" height="220" as="geometry" />
        </mxCell>
        
        <!-- Garantie Class -->
        <mxCell id="garantie-class" value="Garantie&#xa;&#xa;- id: bigint&#xa;- libelle: string&#xa;- plafond: decimal&#xa;- prix_standard: decimal&#xa;- taux_couverture: decimal&#xa;- deleted_at: datetime&#xa;&#xa;+ getCoverageAmountAttribute()&#xa;+ getCategorieGarantie()&#xa;+ isActive()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="1400" width="280" height="240" as="geometry" />
        </mxCell>
        
        <!-- Question Class -->
        <mxCell id="question-class" value="Question&#xa;&#xa;- id: bigint&#xa;- libelle: string&#xa;- type_donnee: enum&#xa;- options: array&#xa;- destinataire: enum&#xa;- obligatoire: bool&#xa;- est_actif: bool&#xa;- deleted_at: datetime&#xa;&#xa;+ scopeActive()&#xa;+ isActive()&#xa;+ isRequired()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="1400" width="280" height="280" as="geometry" />
        </mxCell>
        
        <!-- ReponseQuestionnaire Class -->
        <mxCell id="reponse-questionnaire-class" value="ReponseQuestionnaire&#xa;&#xa;- id: bigint&#xa;- personne_type: string&#xa;- personne_id: bigint&#xa;- reponse_text: text&#xa;- reponse_bool: bool&#xa;- reponse_decimal: decimal&#xa;- reponse_date: date&#xa;- reponse_fichier: string&#xa;- deleted_at: datetime&#xa;&#xa;+ getReponseValueAttribute()&#xa;+ setReponseValueAttribute()&#xa;+ getQuestion()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1300" y="1400" width="280" height="280" as="geometry" />
        </mxCell>
        
        <!-- Otp Class -->
        <mxCell id="otp-class" value="Otp&#xa;&#xa;- id: bigint&#xa;- email: string&#xa;- otp: string&#xa;- expire_at: datetime&#xa;- verifier_a: datetime&#xa;- type: enum&#xa;&#xa;+ isExpired()&#xa;+ isValid()&#xa;+ generateOtp()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1700" y="1400" width="280" height="240" as="geometry" />
        </mxCell>
        
        <!-- ClientContrat Class -->
        <mxCell id="client-contrat-class" value="ClientContrat&#xa;&#xa;- id: bigint&#xa;- statut: enum&#xa;- prime_paye: decimal&#xa;- date_debut: date&#xa;- date_fin: date&#xa;- numero_police: string&#xa;- motif_resiliation: text&#xa;- resilié_a: datetime&#xa;- deleted_at: datetime&#xa;&#xa;+ isActive()&#xa;+ isExpired()&#xa;+ isCancelled()&#xa;+ getStatusAttribute()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="1800" width="280" height="320" as="geometry" />
        </mxCell>
        
        <!-- ClientPrestataire Class -->
        <mxCell id="client-prestataire-class" value="ClientPrestataire&#xa;&#xa;- id: bigint&#xa;- statut: enum&#xa;- motif_rejet: text&#xa;- valider_a: datetime&#xa;- deleted_at: datetime&#xa;&#xa;+ isPending()&#xa;+ isValidated()&#xa;+ isRejected()&#xa;+ validate()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="1800" width="280" height="240" as="geometry" />
        </mxCell>
        
        <!-- InvitationEmploye Class -->
        <mxCell id="invitation-employe-class" value="InvitationEmploye&#xa;&#xa;- id: bigint&#xa;- email: string&#xa;- nom: string&#xa;- prenoms: string&#xa;- statut: enum&#xa;- token: string&#xa;- expire_at: datetime&#xa;- accepte_a: datetime&#xa;- deleted_at: datetime&#xa;&#xa;+ isPending()&#xa;+ isAccepted()&#xa;+ isExpired()&#xa;+ generateToken()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="1800" width="280" height="280" as="geometry" />
        </mxCell>
        
        <!-- Notification Class -->
        <mxCell id="notification-class" value="Notification&#xa;&#xa;- id: bigint&#xa;- titre: string&#xa;- message: text&#xa;- type: enum&#xa;- est_lue: bool&#xa;- lu_a: datetime&#xa;- deleted_at: datetime&#xa;&#xa;+ isRead()&#xa;+ markAsRead()&#xa;+ getTypeAttribute()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1300" y="1800" width="280" height="240" as="geometry" />
        </mxCell>
        
        <!-- PropositionContrat Class -->
        <mxCell id="proposition-contrat-class" value="PropositionContrat&#xa;&#xa;- id: bigint&#xa;- statut: enum&#xa;- prime_proposee: decimal&#xa;- frais_gestion_proposes: decimal&#xa;- couverture_proposee: decimal&#xa;- motif_rejet: text&#xa;- accepte_a: datetime&#xa;- refuse_a: datetime&#xa;- deleted_at: datetime&#xa;&#xa;+ isPending()&#xa;+ isAccepted()&#xa;+ isRefused()&#xa;+ accept()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1700" y="1800" width="280" height="280" as="geometry" />
        </mxCell>
        
        <!-- LigneFacture Class -->
        <mxCell id="ligne-facture-class" value="LigneFacture&#xa;&#xa;- id: bigint&#xa;- libelle: string&#xa;- montant: decimal&#xa;- quantite: int&#xa;- prix_unitaire: decimal&#xa;- deleted_at: datetime&#xa;&#xa;+ getTotalAttribute()&#xa;+ getFormattedMontant()&#xa;+ isActive()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="2200" width="280" height="240" as="geometry" />
        </mxCell>
        
        <!-- Spatie Permission Models -->
        
        <!-- Role Class -->
        <mxCell id="role-class" value="Role&#xa;&#xa;- id: bigint&#xa;- name: string&#xa;- guard_name: string&#xa;- created_at: datetime&#xa;- updated_at: datetime&#xa;&#xa;+ hasPermissionTo()&#xa;+ givePermissionTo()&#xa;+ revokePermissionTo()&#xa;+ syncPermissions()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="2200" width="280" height="240" as="geometry" />
        </mxCell>
        
        <!-- Permission Class -->
        <mxCell id="permission-class" value="Permission&#xa;&#xa;- id: bigint&#xa;- name: string&#xa;- guard_name: string&#xa;- created_at: datetime&#xa;- updated_at: datetime&#xa;&#xa;+ assignRole()&#xa;+ removeRole()&#xa;+ syncRoles()&#xa;+ hasRole()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="2200" width="280" height="240" as="geometry" />
        </mxCell>
        
        <!-- ModelHasRoles Class (Pivot) -->
        <mxCell id="model-has-roles-class" value="ModelHasRoles&#xa;&#xa;- role_id: bigint&#xa;- model_type: string&#xa;- model_id: bigint&#xa;&#xa;+ getRole()&#xa;+ getModel()&#xa;+ isActive()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1300" y="2200" width="280" height="200" as="geometry" />
        </mxCell>
        
        <!-- ModelHasPermissions Class (Pivot) -->
        <mxCell id="model-has-permissions-class" value="ModelHasPermissions&#xa;&#xa;- permission_id: bigint&#xa;- model_type: string&#xa;- model_id: bigint&#xa;&#xa;+ getPermission()&#xa;+ getModel()&#xa;+ isActive()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1700" y="2200" width="280" height="200" as="geometry" />
        </mxCell>
        
        <!-- RoleHasPermissions Class (Pivot) -->
        <mxCell id="role-has-permissions-class" value="RoleHasPermissions&#xa;&#xa;- permission_id: bigint&#xa;- role_id: bigint&#xa;&#xa;+ getRole()&#xa;+ getPermission()&#xa;+ isActive()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="2600" width="280" height="200" as="geometry" />
        </mxCell>
        
        <!-- Relations Spatie -->
        
        <!-- User - Role (N:N via ModelHasRoles) -->
        <mxCell id="user-role-relation" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="user-class" target="role-class">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="280" as="sourcePoint" />
            <mxPoint x="450" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="user-role-label" value="*" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="user-role-relation">
          <mxGeometry x="-0.2" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="user-role-label2" value="*" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="user-role-relation">
          <mxGeometry x="0.2" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- User - Permission (N:N via ModelHasPermissions) -->
        <mxCell id="user-permission-relation" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="user-class" target="permission-class">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="280" as="sourcePoint" />
            <mxPoint x="450" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="user-permission-label" value="*" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="user-permission-relation">
          <mxGeometry x="-0.2" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="user-permission-label2" value="*" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="user-permission-relation">
          <mxGeometry x="0.2" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Role - Permission (N:N via RoleHasPermissions) -->
        <mxCell id="role-permission-relation" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="role-class" target="permission-class">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="280" as="sourcePoint" />
            <mxPoint x="450" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="role-permission-label" value="*" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="role-permission-relation">
          <mxGeometry x="-0.2" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="role-permission-label2" value="*" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="role-permission-relation">
          <mxGeometry x="0.2" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
